<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Photographer Portfolio</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">

  <!-- Header -->
  <header class="bg-white shadow-md">
    <div class="container mx-auto flex justify-between items-center p-4">
      <h1 class="text-2xl font-bold">Light & Shadow</h1>
      <nav>
        <ul class="flex space-x-6">
          <li><a href="#gallery" class="hover:text-blue-500">Gallery</a></li>
          <li><a href="#about" class="hover:text-blue-500">About</a></li>
          <li><a href="#contact" class="hover:text-blue-500">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="relative bg-gray-800 text-white h-screen flex items-center justify-center">
    <img id="hero-image" src="photo.jpeg" alt="Hero" class="absolute inset-0 w-full h-full object-cover opacity-50">
    <div class="relative text-center">
      <h2 id="hero-title" class="text-4xl md:text-6xl font-bold mb-4">Capturing Your Moments</h2>
      <p id="hero-subtitle" class="text-xl md:text-2xl">A glimpse through my lens</p>
    </div>
  </section>

  <!-- Gallery Section -->
  <section id="gallery" class="py-16">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold mb-8 text-center">Gallery</h2>
      <div id="gallery-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        <!-- Immagini caricate da DatoCMS -->
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="py-16 bg-gray-100">
    <div class="container mx-auto px-4 max-w-3xl text-center">
      <h2 class="text-3xl font-bold mb-6">About Me</h2>
      <p id="about-text" class="text-lg">Hi! I'm a passionate photographer capturing moments from everyday life. My goal is to turn fleeting instants into lasting memories.</p>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="py-16">
    <div class="container mx-auto px-4 max-w-2xl text-center">
      <h2 class="text-3xl font-bold mb-6">Contact</h2>
      <p>Email me at <a id="contact-email" href="mailto:photographer@example.com" class="text-blue-500 underline">photographer@example.com</a></p>
      <p>Follow me on 
        <a id="contact-instagram" href="#" class="text-blue-500 underline">Instagram</a> | 
        <a id="contact-facebook" href="#" class="text-blue-500 underline">Facebook</a>
      </p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-6">
    <div class="container mx-auto text-center">
      &copy; 2025 Light & Shadow. All rights reserved.
    </div>
  </footer>

  <!-- Script fetch DatoCMS -->
  <script>
    const API_URL = "https://graphql.datocms.com/";
    const API_TOKEN = "a4b7ee7e0b0031eb4e8803de87b942"; // metti qui il token Read-only

    const query = `
      query {
        hero {
          title
          subtitle
          image {
            url
          }
        }
        gallery {
          images {
            url
          }
        }
        about {
          text
        }
        contact {
          email
          social
        }
      }
    `;

    fetch(API_URL, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": "Bearer " + API_TOKEN
      },
      body: JSON.stringify({ query })
    })
    .then(res => res.json())
    .then(res => {
      const data = res.data;

      // Hero
      document.getElementById("hero-title").textContent = data.hero.title;
      document.getElementById("hero-subtitle").textContent = data.hero.subtitle;
      document.getElementById("hero-image").src = data.hero.image.url;

      // Gallery
      const galleryContainer = document.getElementById("gallery-container");
      galleryContainer.innerHTML = ""; // svuota immagini statiche
      data.gallery.images.forEach(img => {
        const el = document.createElement("img");
        el.src = img.url;
        el.className = "w-full h-64 object-cover rounded-lg hover:scale-105 transition-transform duration-300";
        galleryContainer.appendChild(el);
      });

      // About
      document.getElementById("about-text").textContent = data.about.text;

      // Contact
      document.getElementById("contact-email").textContent = data.contact.email;
      document.getElementById("contact-email").href = "mailto:" + data.contact.email;
      document.getElementById("contact-instagram").href = data.contact.socialLinks[0] || "#";
      document.getElementById("contact-facebook").href = data.contact.socialLinks[1] || "#";

    })
    .catch(err => console.error(err));
  </script>

</body>
</html>
